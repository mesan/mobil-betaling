<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
    <!-- Generated by javadoc (build 1.6.0_37) on Thu Jul 04 16:26:52 CEST 2013 -->
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <TITLE>
        PaymentServer (DIBS Library - Library 1.3.0 API)
    </TITLE>

    <META NAME="date" CONTENT="2013-07-04">

    <LINK REL="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

    <SCRIPT type="text/javascript">
        function windowTitle()
        {
        if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PaymentServer (DIBS Library - Library 1.3.0 API)";
        }
        }
    </SCRIPT>
    <NOSCRIPT>
    </NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
    <TR>
        <TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
            <A NAME="navbar_top_firstrow"><!-- --></A>
            <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
                <TR ALIGN="center" VALIGN="top">
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A
                            HREF="../../../../dk/dibs/android/library/package-summary.html"><FONT
                            CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;
                    </TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="class-use/PaymentServer.html"><FONT
                            CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;
                    </TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../deprecated-list.html"><FONT
                            CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../index-all.html"><FONT
                            CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../help-doc.html"><FONT
                            CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
                </TR>
            </TABLE>
        </TD>
        <TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
        </EM>
        </TD>
    </TR>

    <TR>
        <TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
            &nbsp;<A HREF="../../../../dk/dibs/android/library/PaymentResultListener.html"
                     title="interface in dk.dibs.android.library"><B>PREV CLASS</B></A>&nbsp;
            &nbsp;<A HREF="../../../../dk/dibs/android/library/PaymentServerListener.html"
                     title="interface in dk.dibs.android.library"><B>NEXT CLASS</B></A></FONT></TD>
        <TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
            <A HREF="../../../../index.html?dk/dibs/android/library/PaymentServer.html" target="_top"><B>FRAMES</B></A>
            &nbsp;
            &nbsp;<A HREF="PaymentServer.html" target="_top"><B>NO FRAMES</B></A> &nbsp;
            &nbsp;
            <SCRIPT type="text/javascript">
                <!--
                if(window==top) {
                  document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
                }
                //-->
            </SCRIPT>
            <NOSCRIPT>
                <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
            </NOSCRIPT>


        </FONT></TD>
    </TR>
    <TR>
        <TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
            SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A
                HREF="#method_summary">METHOD</A></FONT></TD>
        <TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
            DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
    </TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
    <FONT SIZE="-1">
        dk.dibs.android.library</FONT>
    <BR>
    Class PaymentServer</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true"
   title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>dk.dibs.android.library.PaymentServer</B>
</PRE>
<HR>
<DL>
    <DT>
    <PRE>public class <B>PaymentServer</B><DT>extends <A
            HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true"
            title="class or interface in java.lang">Object</A>
</DL>
</PRE>

<P>
    Abstract the DIBS payment servers and the functionality to locate an "optimal" payment window URL.

<p/>
If not configured explicitly, the implementation will fallback on some defaults, but they are unlikely to
point to the actual payment window you want. You really should call <A
        HREF="../../../../dk/dibs/android/library/PaymentServer.html#setupPaymentServers(java.net.URL, java.lang.String, java.util.List)"><CODE>setupPaymentServers(java.net.URL,
    String, java.util.List)</CODE></A>
instead.
<p/>
To use the failover / optimal payment server resolution, you use <A
        HREF="../../../../dk/dibs/android/library/PaymentServer.html#updateActivePaymentServer(dk.dibs.android.library.PaymentServerListener)"><CODE>updateActivePaymentServer(PaymentServerListener)</CODE></A>.
<P>

<P>
<HR>

<P>

    <!-- ========== METHOD SUMMARY =========== -->

    <A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
            <B>Method Summary</B></FONT></TH>
    </TR>
    <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
            <CODE>static&nbsp;void</CODE></FONT></TD>
        <TD><CODE><B><A
                HREF="../../../../dk/dibs/android/library/PaymentServer.html#setupPaymentServers(java.net.URL, java.lang.String, java.util.List)">setupPaymentServers</A></B>(<A
                HREF="http://download.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true"
                title="class or interface in java.net">URL</A>&nbsp;defaultServerBaseURL,
            <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true"
               title="class or interface in java.lang">String</A>&nbsp;paymentWindowURLPath,
            <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true"
               title="class or interface in java.util">List</A>&lt;<A
                    HREF="http://download.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true"
                    title="class or interface in java.net">URL</A>&gt;&nbsp;failoverPaymentServers)</CODE>

            <BR>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Explicitly set the server URLs of the payment
            library.
        </TD>
    </TR>
    <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
            <CODE>static&nbsp;void</CODE></FONT></TD>
        <TD><CODE><B><A
                HREF="../../../../dk/dibs/android/library/PaymentServer.html#updateActivePaymentServer(dk.dibs.android.library.PaymentServerListener)">updateActivePaymentServer</A></B>(<A
                HREF="../../../../dk/dibs/android/library/PaymentServerListener.html"
                title="interface in dk.dibs.android.library">PaymentServerListener</A>&nbsp;listener)</CODE>

            <BR>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initiates a check for available payment servers.
        </TD>
    </TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
        <TH ALIGN="left"><B>Methods inherited from class java.lang.<A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true"
                title="class or interface in java.lang">Object</A></B></TH>
    </TR>
    <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD><CODE><A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)"
                title="class or interface in java.lang">equals</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()"
                title="class or interface in java.lang">getClass</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()"
                title="class or interface in java.lang">hashCode</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()"
                title="class or interface in java.lang">notify</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()"
                title="class or interface in java.lang">notifyAll</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()"
                title="class or interface in java.lang">toString</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()"
                title="class or interface in java.lang">wait</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)"
                title="class or interface in java.lang">wait</A>, <A
                HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)"
                title="class or interface in java.lang">wait</A></CODE></TD>
    </TR>
</TABLE>
&nbsp;
<P>

    <!-- ============ METHOD DETAIL ========== -->

    <A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
        <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
            <B>Method Detail</B></FONT></TH>
    </TR>
</TABLE>

<A NAME="setupPaymentServers(java.net.URL, java.lang.String, java.util.List)"><!-- --></A>

<H3>
    setupPaymentServers</H3>
<PRE>
public static void <B>setupPaymentServers</B>(<A
        HREF="http://download.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true"
        title="class or interface in java.net">URL</A>&nbsp;defaultServerBaseURL,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true"
                                          title="class or interface in java.lang">String</A>&nbsp;paymentWindowURLPath,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true"
                                          title="class or interface in java.util">List</A>&lt;<A
        HREF="http://download.oracle.com/javase/6/docs/api/java/net/URL.html?is-external=true"
        title="class or interface in java.net">URL</A>&gt;&nbsp;failoverPaymentServers)
                                throws <A
        HREF="http://download.oracle.com/javase/6/docs/api/java/net/MalformedURLException.html?is-external=true"
        title="class or interface in java.net">MalformedURLException</A></PRE>
<DL>
    <DD>Explicitly set the server URLs of the payment library.
        <p/>
        This method allows for control on which URLs the payment window will use and which servers to use
        for payment operations. You will need to contact DIBS to get the possible values that suits your payment window.
        <P>
    <DD>
        <DL>
            <DT><B>Parameters:</B>
            <DD><CODE>defaultServerBaseURL</CODE> - the default payment base URL to use, when ping hasn't been run or no
                pinged server answered
            <DD><CODE>paymentWindowURLPath</CODE> - the last part (path) of the URL, that identifies which payment
                window type to show
            <DD><CODE>failoverPaymentServers</CODE> - any other payment servers you want to be able to fallback to, if
                ping determines some are unreachable
            <DT><B>Throws:</B>
            <DD><CODE><A
                    HREF="http://download.oracle.com/javase/6/docs/api/java/net/MalformedURLException.html?is-external=true"
                    title="class or interface in java.net">MalformedURLException</A></CODE> - in case valid URLs can't
                be constructed from the given values
        </DL>
    </DD>
</DL>
<HR>

<A NAME="updateActivePaymentServer(dk.dibs.android.library.PaymentServerListener)"><!-- --></A>

<H3>
    updateActivePaymentServer</H3>
<PRE>
public static void <B>updateActivePaymentServer</B>(<A
        HREF="../../../../dk/dibs/android/library/PaymentServerListener.html"
        title="interface in dk.dibs.android.library">PaymentServerListener</A>&nbsp;listener)</PRE>
<DL>
    <DD>Initiates a check for available payment servers.
        <p/>
        Use this method "some time" <em>before</em> showing the payment window, to be sure to have the payment window
        load from an optimal server. How much time "some time" is, depends on how good the connectivity of the mobile
        device is. An app could initiate a ping on app start. Another strategy would be to initiate a ping, when the
        flow in the app seems to be "near showing payment window" (e.g. when entering order details, showing order for
        accept,...).
        <p/>
        Calling this method returns immediately, but spawns a background job, that does the actual processing.
        Result will come in the form of a callback on the given listener.
        <p/>
        It only makes sense to call this method if proper failover servers were given
        in
        <A HREF="../../../../dk/dibs/android/library/PaymentServer.html#setupPaymentServers(java.net.URL, java.lang.String, java.util.List)"><CODE>setupPaymentServers(java.net.URL,
            String, java.util.List)</CODE></A>.
        <P>
    <DD>
        <DL>
            <DT><B>Parameters:</B>
            <DD><CODE>listener</CODE> - instance to notify when ping is done
        </DL>
    </DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
    <TR>
        <TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
            <A NAME="navbar_bottom_firstrow"><!-- --></A>
            <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
                <TR ALIGN="center" VALIGN="top">
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A
                            HREF="../../../../dk/dibs/android/library/package-summary.html"><FONT
                            CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;
                    </TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="class-use/PaymentServer.html"><FONT
                            CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;
                    </TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../deprecated-list.html"><FONT
                            CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../index-all.html"><FONT
                            CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
                    <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../help-doc.html"><FONT
                            CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
                </TR>
            </TABLE>
        </TD>
        <TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
        </EM>
        </TD>
    </TR>

    <TR>
        <TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
            &nbsp;<A HREF="../../../../dk/dibs/android/library/PaymentResultListener.html"
                     title="interface in dk.dibs.android.library"><B>PREV CLASS</B></A>&nbsp;
            &nbsp;<A HREF="../../../../dk/dibs/android/library/PaymentServerListener.html"
                     title="interface in dk.dibs.android.library"><B>NEXT CLASS</B></A></FONT></TD>
        <TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
            <A HREF="../../../../index.html?dk/dibs/android/library/PaymentServer.html" target="_top"><B>FRAMES</B></A>
            &nbsp;
            &nbsp;<A HREF="PaymentServer.html" target="_top"><B>NO FRAMES</B></A> &nbsp;
            &nbsp;
            <SCRIPT type="text/javascript">
                <!--
                if(window==top) {
                  document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
                }
                //-->
            </SCRIPT>
            <NOSCRIPT>
                <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
            </NOSCRIPT>


        </FONT></TD>
    </TR>
    <TR>
        <TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
            SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A
                HREF="#method_summary">METHOD</A></FONT></TD>
        <TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
            DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
    </TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright 2011 <a href="http://www.dibs.dk">DIBS<a>. All rights reserved.
</BODY>
</HTML>
